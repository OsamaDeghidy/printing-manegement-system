# ุฅุนุฏุงุฏ Environment Variables ูู Vercel ูููุฑููุช ุงูุฏ

## ๐ฏ ุงููุฏู

ุฑุจุท ุงููุฑููุช ุงูุฏ (`https://www.pmstu.com`) ุจุงูุจุงู ุงูุฏ (`https://admin.pmstu.com/api`)

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ

### 1. ุฅุถุงูุฉ Environment Variable ูู Vercel

1. **ุงุฐูุจ ุฅูู Vercel Dashboard:**
   - ุงูุชุญ [vercel.com](https://vercel.com)
   - ุณุฌู ุงูุฏุฎูู ุฅูู ุญุณุงุจู

2. **ุงุฎุชุฑ ุงููุดุฑูุน:**
   - ุงุฎุชุฑ ูุดุฑูุน `printingsystem` ุฃู ุงุณู ุงููุดุฑูุน ุงูุฎุงุต ุจู

3. **ุงุฐูุจ ุฅูู Settings:**
   - ุงุถุบุท ุนูู **Settings** ูู ุงููุงุฆูุฉ ุงูุนูููุฉ
   - ุงุฎุชุฑ **Environment Variables** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

4. **ุฃุถู ุงููุชุบูุฑ ุงูุฌุฏูุฏ:**
   - ุงุถุบุท ุนูู **Add New**
   - ุงููุฃ ุงูุญููู ุงูุชุงููุฉ:
     ```
     Key: NEXT_PUBLIC_API_BASE_URL
     Value: https://admin.pmstu.com/api
     Environment: Production, Preview, Development (ุงุฎุชุฑ ุงูุซูุงุซุฉ)
     ```
   - ุงุถุบุท **Save**

5. **ุฅุนุงุฏุฉ ุงููุดุฑ:**
   - ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑุ Vercel ุณูุนูุฏ ุงูุจูุงุก ุชููุงุฆูุงู
   - ุฃู ููููู ุงูุงูุชูุงู ุฅูู **Deployments** ูุฅุนุงุฏุฉ ูุดุฑ ุขุฎุฑ deployment

## โ ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ

### 1. ูู Vercel Dashboard:

- **Settings** โ **Environment Variables**
- ูุฌุจ ุฃู ุชุฑู:
  ```
  NEXT_PUBLIC_API_BASE_URL = https://admin.pmstu.com/api
  ```

### 2. ูู ุงููุชุตูุญ (ุจุนุฏ ุงููุดุฑ):

1. ุงูุชุญ `https://www.pmstu.com`
2. ุงูุชุญ Developer Tools (F12)
3. ุงุฐูุจ ุฅูู **Console** tab
4. ุงูุชุจ:
   ```javascript
   console.log(process.env.NEXT_PUBLIC_API_BASE_URL)
   ```
5. ูุฌุจ ุฃู ูุธูุฑ: `https://admin.pmstu.com/api`

**ููุงุญุธุฉ:** ูู Next.jsุ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชู ุชุจุฏุฃ ุจู `NEXT_PUBLIC_` ูุชุงุญุฉ ูู ุงููุชุตูุญ ููุท ุจุนุฏ ุงูุจูุงุก.

### 3. ุงุฎุชุจุงุฑ API:

1. ุงูุชุญ `https://www.pmstu.com/login`
2. ุงูุชุญ **Network** tab ูู Developer Tools
3. ุญุงูู ุชุณุฌูู ุงูุฏุฎูู
4. ุชุญูู ูู ุฃู ุงูุทูุจุงุช ุชุฐูุจ ุฅูู:
   ```
   https://admin.pmstu.com/api/auth/token/
   ```

## ๐ ุงูููุฏ ุงููุณุชุฎุฏู

ุงููุฑููุช ุงูุฏ ูุณุชุฎุฏู `NEXT_PUBLIC_API_BASE_URL` ูู ุงููููุงุช ุงูุชุงููุฉ:

### 1. `client/lib/api-client.ts`:
```typescript
const API_BASE_URL =
  process.env.NEXT_PUBLIC_API_BASE_URL?.replace(/\/$/, "") ??
  "http://localhost:8000/api";
```

### 2. `client/lib/api-server.ts`:
```typescript
const API_BASE_URL =
  process.env.NEXT_PUBLIC_API_BASE_URL?.replace(/\/$/, "") ??
  "http://localhost:8000/api";
```

### 3. `client/app/(public)/login/page.tsx`:
```typescript
const API_BASE_URL =
  process.env.NEXT_PUBLIC_API_BASE_URL?.replace(/\/$/, "") ??
  "http://localhost:8000/api";
```

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **`NEXT_PUBLIC_` prefix:**
   - ูู Next.jsุ ููุท ุงููุชุบูุฑุงุช ุงูุชู ุชุจุฏุฃ ุจู `NEXT_PUBLIC_` ูุชุงุญุฉ ูู ุงููุชุตูุญ
   - ุจุฏูู ูุฐุง ุงูู prefixุ ุงููุชุบูุฑ ูู ูุนูู ูู client-side code

2. **ุฅุนุงุฏุฉ ุงูุจูุงุก ูุทููุจุฉ:**
   - ุจุนุฏ ุฅุถุงูุฉ/ุชุบููุฑ environment variableุ ูุฌุจ ุฅุนุงุฏุฉ ุจูุงุก ุงููุดุฑูุน
   - Vercel ูุนูุฏ ุงูุจูุงุก ุชููุงุฆูุงู ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑ

3. **Environment Types:**
   - **Production**: ููุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ (`www.pmstu.com`)
   - **Preview**: ููู preview deployments
   - **Development**: ููุจูุฆุฉ ุงููุญููุฉ (ุฅุฐุง ููุช ุชุณุชุฎุฏู Vercel CLI)

4. **ูุง ุชุณุชุฎุฏู `.env` ูู Vercel:**
   - ููู `.env` ูุญูู ููุท
   - ูู Vercelุ ุงุณุชุฎุฏู Environment Variables ูู Dashboard

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: ุงููุชุบูุฑ ูุง ูุนูู

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู ุงูู key ุตุญูุญ: `NEXT_PUBLIC_API_BASE_URL`
2. ุชุฃูุฏ ูู ุฃู Value ุตุญูุญ: `https://admin.pmstu.com/api` (ุจุฏูู `/` ูู ุงูููุงูุฉ)
3. ุฃุนุฏ ูุดุฑ ุงููุดุฑูุน ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑ

### ุงููุดููุฉ: ุงูุจูุงูุงุช ูุง ุชุธูุฑ

**ุงูุญู:**
1. ุชุญูู ูู Console ููุฃุฎุทุงุก
2. ุชุญูู ูู Network tab - ูุฌุจ ุฃู ุชููู ุงูุทูุจุงุช ุชุฐูุจ ุฅูู `https://admin.pmstu.com/api/...`
3. ุชุฃูุฏ ูู ุฃู CORS ูุถุจูุท ูู ุงูุจุงู ุงูุฏ (ุชู ุจุงููุนู โ)

### ุงููุดููุฉ: CORS Error

**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ุงูุจุงู ุงูุฏ ูุณูุญ ุจู `https://www.pmstu.com` ูู `CORS_ALLOWED_ORIGINS`
- ุชู ุฅุตูุงุญ ูุฐุง ุจุงููุนู ูู `server/project/settings.py` โ

## ๐ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุฅุถุงูุฉ `NEXT_PUBLIC_API_BASE_URL` ูู Vercel
- [ ] ุถุจุท Value ุนูู `https://admin.pmstu.com/api`
- [ ] ุงุฎุชูุงุฑ ุฌููุน ุงูุจูุฆุงุช (Production, Preview, Development)
- [ ] ุญูุธ ุงููุชุบูุฑ
- [ ] ุงูุชุธุงุฑ ุฅุนุงุฏุฉ ุงูุจูุงุก
- [ ] ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
- [ ] ุงูุชุญูู ูู ุฃู ุงูุจูุงูุงุช ุชุธูุฑ

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑ:

1. โ ุงููุฑููุช ุงูุฏ ุณูุชุตู ุจุงูุจุงู ุงูุฏ ุนูู `https://admin.pmstu.com/api`
2. โ ุงูุจูุงูุงุช ุณุชุธูุฑ ูู ุงููุฑููุช ุงูุฏ
3. โ ุชุณุฌูู ุงูุฏุฎูู ุณูุนูู
4. โ ุฌููุน API calls ุณุชุฐูุจ ููุจุงู ุงูุฏ ุงูุตุญูุญ

---

**ุจุนุฏ ุชุทุจูู ูุฐู ุงูุฎุทูุงุชุ ุงููุฑููุช ุงูุฏ ุณูููู ูุฑุจูุท ุจุงูุจุงู ุงูุฏ!** ๐

